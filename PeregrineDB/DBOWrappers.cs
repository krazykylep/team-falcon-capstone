//------------------------------------------------------------------------------
// c. 2012 by Nicholas Benson
// This file contains wrappers for the Autogenerated DB objects
//------------------------------------------------------------------------------

namespace PeregrineDB
{
    using System.Data.Linq;

    public class ProcessWrapper : Process
    {
        public ProcessWrapper()
        {
            ProcessID = -1; // should be null but int is not nullable
            ProcessName = "";
            State = 0;
        }

        public ProcessWrapper(string procName, int procState)
        {
            ProcessID = -1; // should be null but int is not nullable
            ProcessName = procName;
            State = procState;
        }

        public ProcessWrapper(int id)
        {
            PeregrineDBDataContext db = new PeregrineDBDataContext();
            ISingleResult<GetProcessResult> result = db.GetProcess(id);
            // should only have one proc in result
            foreach (GetProcessResult proc in result)
            {
                ProcessID = proc.ProcessID;
                ProcessName = proc.ProcessName;
                State = proc.State;
            }
        }

        public void PutInDatabase()
        {
            PeregrineDBDataContext db = new PeregrineDBDataContext();
            ISingleResult<InsertProcessResult> result = db.InsertProcess(null, ProcessName, State);
            // should only have one proc in result
            foreach (InsertProcessResult proc in result)
            {
                ProcessID = proc.ProcessID;
                ProcessName = proc.ProcessName;
                State = proc.State;
            }
        }
    }

    public class JobWrapper : Job
    {
        public JobWrapper()
        {
        }
    }

    public class MessageWrapper : Message
    {
        public MessageWrapper()
        {
        }
    }
}